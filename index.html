<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3443/3443338.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>åƒè²¨ç¥å™¨ Pro Max</title>
    <style>
        :root { --primary: #FF9500; --bg: #F2F2F7; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); margin: 0; padding: 20px; display: flex; justify-content: center; }
        .container { background: white; width: 100%; max-width: 450px; border-radius: 24px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        .result-card { background: #FFF9F0; border: 2px dashed var(--primary); border-radius: 20px; padding: 30px 10px; text-align: center; margin: 20px 0; }
        #resultValue { font-size: 38px; font-weight: bold; color: #FF4500; }
        
        /* æœå°‹å¹³å°é¸æ“‡å™¨æ¨£å¼ */
        .search-options { display: none; margin-top: 15px; border-top: 1px solid #EEE; padding-top: 15px; }
        .search-title { font-size: 14px; color: #888; margin-bottom: 10px; font-weight: bold; }
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        
        .btn { border: none; border-radius: 12px; padding: 12px; font-size: 14px; font-weight: 600; cursor: pointer; text-decoration: none; text-align: center; color: white; transition: 0.2s; }
        .main-btn { background: #1C1C1E; width: 100%; font-size: 20px; padding: 18px; }
        
        /* å„å¤§å¹³å°é¡è‰² */
        .btn-meituan { background: #FFD000; color: #333; } /* ç¾åœ˜é»ƒ */
        .btn-dianping { background: #FF6633; } /* å¤§çœ¾é»è©•æ©˜ */
        .btn-eleme { background: #0089FF; } /* é¤“äº†éº¼è— */
        .btn-google { background: #34A853; } /* Google ç¶  */
        .btn-share { background: #5856D6; grid-column: span 2; } /* åˆ†äº«éˆ•ä½”æ»¿ */
    </style>
</head>
<body>

<div class="container">
    <h1 style="text-align:center; margin-top:0;">ğŸ´ åƒè²¨ç¥å™¨</h1>

    <div class="result-card">
        <div id="resultValue">ï¼Ÿ</div>
        
        <div class="search-options" id="searchGroup">
            <div class="search-title">é¸æ“‡æœå°‹å¹³å°</div>
            <div class="grid">
                <a id="linkMeituan" class="btn btn-meituan">ç¾åœ˜</a>
                <a id="linkDianping" class="btn btn-dianping">å¤§çœ¾é»è©•</a>
                <a id="linkEleme" class="btn btn-eleme">é¤“äº†éº¼</a>
                <a id="linkGoogle" class="btn btn-google">Google åœ°åœ–</a>
                <button class="btn btn-share" onclick="shareResult()">ğŸ“¤ åˆ†äº«çµ¦å¥½å‹</button>
            </div>
        </div>
    </div>

    <button class="main-btn btn" onclick="roll()">é–‹å§‹éš¨æ©ŸæŠ½é¸</button>
</div>

<script>
    const foodList = ["éº»è¾£ç«é‹", "é…¸èœé­š", "èºçµ²ç²‰", "æ—¥å¼æ‹‰éºµ", "éŸ“å¼ç‚¸é›", "ç‰›è‚‰éºµ", "å°ç± åŒ…"];
    let finalChoice = "";

    function roll() {
        const display = document.getElementById('resultValue');
        const searchGroup = document.getElementById('searchGroup');
        searchGroup.style.display = 'none';

        let count = 0;
        const timer = setInterval(() => {
            display.innerText = foodList[Math.floor(Math.random() * foodList.length)];
            count++;
            if (count > 15) {
                clearInterval(timer);
                finalChoice = foodList[Math.floor(Math.random() * foodList.length)];
                display.innerText = "âœ¨ " + finalChoice;
                updateSearchLinks(finalChoice);
                searchGroup.style.display = 'block';
            }
        }, 80);
    }

    function updateSearchLinks(keyword) {
        const encoded = encodeURIComponent(keyword);
        // å„å¤§ App çš„ URL Schemes
        document.getElementById('linkMeituan').href = `imeituan://www.meituan.com/s/s?w=${encoded}`;
        document.getElementById('linkDianping').href = `dianping://search?keyword=${encoded}`;
        document.getElementById('linkEleme').href = `eleme://search?keyword=${encoded}`;
        document.getElementById('linkGoogle').href = `https://www.google.com/maps/search/${encoded}`;
    }

    async function shareResult() {
        if (navigator.share) {
            await navigator.share({
                title: 'åƒè²¨ç¥å™¨æ±ºå®šäº†ï¼',
                text: `ä»Šå¤©å°±æ±ºå®šåƒï¼š${finalChoice}ï¼`,
                url: window.location.href
            });
        }
    }
</script>
</body>
</html>
